<div class="qui-rating"
     data-qui="package/quiqqer/rating/bin/Rate"
     itemprop="aggregateRating"
     itemscope itemtype="http://schema.org/AggregateRating"
        >
    <div class="qui-rating-star-container"></div>
    <div class="qui-rating-star-title">
        {locale group="quiqqer/rating"
            var="control.rate.text"
            from=$value
            max=$this->getAttribute('stars')
        }
    </div>

    <meta itemprop="bestRating" content="{$bestRating}"/>
    <meta itemprop="worstRating" content="{$worstRating}"/>
    <meta itemprop="ratingValue" content="{$value}"/>
    <meta itemprop="ratingCount" content="{$ratingCount}"/>

    {if $this->getAttribute('showDetails')}
    <ul class="qui-rating-star-details">
    {foreach from=$details key=key item=value}
        <li>
            <span>Stars {$key}</span>
            <div class="qui-rating-star-details-bar">
                <div class="qui-rating-star-details-bar-inner"
                     style="width: {$Math->percent($value, $ratingCount)}%"
                ></div>
            </div>
            <span>{$value}</span>
        </li>
    {/foreach}
    </ul>
    {/if}

</div>